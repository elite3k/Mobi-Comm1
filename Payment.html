<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Page</title>
    <link rel="stylesheet" href="css/main.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cabin:wght@400;700&display=swap" rel="stylesheet">
    <style>
        .payment-container {
            background: #ffffff;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            width: 450px;
            text-align: center;
        }
        .btn-custom {
            background-color: #004225;
            color: white;
        }
        .btn-custom:hover {
            background-color: #5C8374;
            color: black;
        }
        .payment-details {
            display: none;
            margin-top: 15px;
            text-align: left;
        }
        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .icon:hover {
            color: #FFB000;
        }
    </style>
</head>
<body class="d-flex justify-content-center align-items-center vh-100">
    <div class="payment-container">
        <div class="header-container">
            <span class="icon" onclick="window.location.href='Homepage.html'">&#8592;</span>
            <h2 class="text-secondary mb-4">Payment</h2>
            <div></div>
        </div>
        <div class="p-3 mb-3 bg-info text-black rounded">
            <p>Mobile Number: 93611155275</p>
            <p>Plan Amount: ₹399</p>
        </div>
        <div class="d-grid gap-3">
            <button class="btn btn-custom" onclick="toggleDetails('upi')">UPI (GPay, PhonePe) ➝</button>
            <button class="btn btn-custom" onclick="toggleDetails('card')">Credit/Debit Card ➝</button>
            <button class="btn btn-custom" onclick="toggleDetails('netbanking')">Net Banking ➝</button>
        </div>
        <div id="upi-details" class="payment-details">
            <label>UPI ID:</label>
            <input type="text" id="upi-id" class="form-control mb-2" placeholder="Enter UPI ID">
            <small id="upi-error" class="text-danger"></small>
        </div>
        <div id="card-details" class="payment-details">
            <label>Card Number:</label>
            <input type="text" id="card-number" class="form-control mb-2" placeholder="XXXX XXXX XXXX XXXX">
            <small id="card-error" class="text-danger"></small>
            <label>Expiry Date:</label>
            <input type="text" id="expiry-date" class="form-control mb-2" placeholder="MM/YY">
            <small id="expiry-error" class="text-danger"></small>
            <label>CVV:</label>
            <input type="password" id="cvv" class="form-control mb-2" placeholder="XXX">
            <small id="cvv-error" class="text-danger"></small>
        </div>
        <div id="netbanking-details" class="payment-details">
            <label>Bank Name:</label>
            <select id="bank-name" class="form-control mb-2">
                <option value="">Select Bank</option>
                <option value="SBI">SBI</option>
                <option value="HDFC">HDFC</option>
                <option value="ICICI">ICICI</option>
                <option value="Axis">Axis</option>
            </select>
            <small id="bank-error" class="text-danger"></small>
            <label>Account Number:</label>
            <input type="text" id="account-number" class="form-control mb-2" placeholder="Enter Account Number">
            <small id="account-error" class="text-danger"></small>
            <label>IFSC Code:</label>
            <input type="text" id="ifsc-code" class="form-control mb-2" placeholder="Enter IFSC Code">
            <small id="ifsc-error" class="text-danger"></small>
        </div>
        <button id="pay-btn" class="btn btn-custom mt-3" onclick="validatePayment()" style="display:none;">Pay Now</button>
    </div>
    <script>
        let selectedMethod = "";
        
        function toggleDetails(method) {
            document.getElementById('upi-details').style.display = 'none';
            document.getElementById('card-details').style.display = 'none';
            document.getElementById('netbanking-details').style.display = 'none';
            document.getElementById(method + '-details').style.display = 'block';
            document.getElementById('pay-btn').style.display = 'block';
            selectedMethod = method;
        }
        
        function validatePayment() {
            let valid = true;
            
            if (selectedMethod === "upi") {
                let upi = document.getElementById("upi-id").value;
                if (!/^[a-zA-Z0-9]+@[a-zA-Z]+$/.test(upi)) {
                    document.getElementById("upi-error").textContent = "Invalid UPI ID (e.g., xyz@upi)";
                    valid = false;
                } else {
                    document.getElementById("upi-error").textContent = "";
                }
            } else if (selectedMethod === "card") {
                let cardNumber = document.getElementById("card-number").value.replace(/\s/g, '');
                if (!/^\d{16}$/.test(cardNumber)) {
                    document.getElementById("card-error").textContent = "Invalid Card Number (16 digits only)";
                    valid = false;
                }
                if (!/^(0[1-9]|1[0-2])\/\d{2}$/.test(document.getElementById("expiry-date").value)) {
                    document.getElementById("expiry-error").textContent = "Invalid Expiry Date (MM/YY)";
                    valid = false;
                }
                if (!/^\d{3}$/.test(document.getElementById("cvv").value)) {
                    document.getElementById("cvv-error").textContent = "Invalid CVV (3 digits)";
                    valid = false;
                }
            }
            
            if (valid) {
                alert("Payment Successful! Redirecting to the plan page...");
                window.location.href = "plansPage2.html";
            }
        }
    </script>
</body>
</html>
